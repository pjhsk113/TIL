# [이펙티브 자바] Item84 - 프로그램의 동작을 스레드 스케줄러에 기대지 말라

여러 스레드가 실행 중이면 운영체제의 스레드 스케줄러가 어떤 스레드를 얼마나 오래 실행할지 정한다. OS 별로 구체적인 스케줄링이 다를 수 있고, 이러한 정책에 좌지우지 되지 않는 프로그램이 좋은 프로그램이라고 볼 수 있다. 

# 이식성이 좋은 프로그램

정확성이나 성능이 스레드 스케줄러에 따라 달라진다면 다른 플랫폼(OS)에 이식하기 어렵다. 

## 실행 가능한 스레드 수와 생명 주기

실행 중인(혹은 가능한) 스레드 수 = 전체 스레드 수 - 대기 중인 스레드 수

### 1. 실행 가능한 스레드의 평균적인 수를 생각한다.

이식성이 좋은 프로그램을 작성하기 위해서는 **실행 가능한 스레드의 평균적인 수를 프로세서 수보다 지나치게 많지 않도록 하는 것이 중요하다.** 이렇게 해야 스레드 스케줄러가 고민할 거리가 줄어든다.

### 2. 실행 준비가 된 스레드는 완료까지 계속 실행되게 만든다.

실행 준비가 된 스레드들은 맡은 작업을 완료할 때까지 계속 실행되게 만들어야 한다. 이런 프로그램은 스레드 스케줄링 정책이 상이한 시스템에서도 동작이 크게 달라지지 않는다.

## 실행 가능한 스레드 수 적게 유지하기